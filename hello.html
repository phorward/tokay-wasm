<!doctype html>
<html>
    <body>
        <form id="program">
            <textarea id="input" placeholder="Input (optional)">123 456 789</textarea>
            <textarea id="code" placeholder="Tokay" required>Int * 3</textarea>
            <input type="submit" />
        </form>

        <script type="module">
            import init, { tokay } from "./pkg/tokay_wasm.js";

            await init();

            document
                .getElementById("program")
                .addEventListener("submit", (e) => {
                    e.stopPropagation();
                    e.preventDefault();

                    document.body.appendChild(
                        document.createTextNode(
                            tokay(
                                document.getElementById("code").value,
                                document.getElementById("input").value,
                            ),
                        ),
                    );
                });
        </script>
    </body>
</html>
